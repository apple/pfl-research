<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="article:modified_time" content="2025-06-16T14:43:29+00:00" /><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Environment variables" href="environment_variables.html" /><link rel="prev" title="Training statistics" href="stats.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Gradient boosted decision trees - pfl 0.3.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">pfl 0.3.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">pfl 0.3.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/fl_introduction.html">Federated learning with pfl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/simulation_distributed.html">Fast distributed simulations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/contributing.html">Contributing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="algorithm.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregate.html">Backend</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregate.html#aggregator">Aggregator</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregate.html#module-pfl.aggregate.data_transport">Data transport</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregate.html#module-pfl.aggregate.weighting">Weighting</a></li>
<li class="toctree-l1"><a class="reference internal" href="callback.html">Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="common_types.html">Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="context.html">Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="exception.html">Exception</a></li>
<li class="toctree-l1"><a class="reference internal" href="hyperparam.html">Hyperparameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessor.html">Postprocessor</a></li>
<li class="toctree-l1"><a class="reference internal" href="privacy.html">Differential privacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats.html">Training statistics</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Gradient boosted decision trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment variables</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="internal/index.html">Internal API</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Internal API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="internal/bisect.html">Bisect</a></li>
<li class="toctree-l2"><a class="reference internal" href="internal/bridge.html">Bridges</a></li>
<li class="toctree-l2"><a class="reference internal" href="internal/distribution.html">Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="internal/ops.html">Ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="internal/platform.html">Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="internal/privacy_loss_bound.html">Privacy loss bound</a></li>
<li class="toctree-l2"><a class="reference internal" href="internal/tree.html">Tree</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="gradient-boosted-decision-trees">
<span id="gbdt"></span><h1>Gradient boosted decision trees<a class="headerlink" href="#gradient-boosted-decision-trees" title="Link to this heading">#</a></h1>
<section id="module-pfl.tree.federated_gbdt">
<span id="algorithms"></span><h2>Algorithms<a class="headerlink" href="#module-pfl.tree.federated_gbdt" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pfl.tree.federated_gbdt.GBDTClippingBound">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pfl.tree.federated_gbdt.</span></span><span class="sig-name descname"><span class="pre">GBDTClippingBound</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer_multiplier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tree_multiplier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_tree_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.federated_gbdt.GBDTClippingBound" title="Link to this definition">#</a></dt>
<dd><p>Adapt clipping bound based on current layer and current index of tree being
trained in a GBDT.</p>
<p>The sensitivity of the vector of gradients gets smaller as training
progresses due to smaller gradients as predictions improve. Adapting the
clipping bound during training improves the SNR.</p>
<p>Clipping bound is adapted as follows:
<cite>clipping_bound = base_value * layer_multiplier ** current_depth * tree_multiplier ** (current_tree - num_trees_in_model_at_start_of_training)</cite>  # pylint: disable=line-too-long
where base_value is the base clipping bound value, layer_multiplier and
tree_multiplier are parameters controlling the impact of layer depth and
number of trees on the clipping bound, current_depth is the depth of the
current tree being trained, and current_tree is the id of the current tree
being trained (starting at 0).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You must include a GBDTClippingBound() object in the list of callbacks
input to <cite>backend</cite> to ensure the clipping bound is actually updated on
each iteration that the algorithm is run.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_value</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Default value for clipping bound</p></li>
<li><p><strong>layer_multiplier</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Factor used to modify the base value of clipping bound depending on
the layer of a tree being trained. Should be in range (0, 1].</p></li>
<li><p><strong>tree_multiplier</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Factor used to modify the base value for clipping bound depending on
the layer of a tree being trained. Should be in range (0, 1].</p></li>
<li><p><strong>use_tree_offset</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Whether or not to include trees in GBDT initialization model when
computing clipping bound. A random initialization of a GBDT has zero
trees. By default do include all trees as gradients depend on number
of trees in GBDT, not on number of trees currently being trained.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.federated_gbdt.GBDTClippingBound.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.federated_gbdt.GBDTClippingBound.value" title="Link to this definition">#</a></dt>
<dd><p>The current state (inner value) of the hyperparameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.federated_gbdt.GBDTClippingBound.on_train_begin">
<span class="sig-name descname"><span class="pre">on_train_begin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.federated_gbdt.GBDTClippingBound.on_train_begin" title="Link to this definition">#</a></dt>
<dd><p>Called before the first central iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="metrics.html#pfl.metrics.Metrics" title="pfl.metrics.Metrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">Metrics</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.federated_gbdt.GBDTClippingBound.after_central_iteration">
<span class="sig-name descname"><span class="pre">after_central_iteration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aggregate_metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">central_iteration</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.federated_gbdt.GBDTClippingBound.after_central_iteration" title="Link to this definition">#</a></dt>
<dd><p>Finalize any computations after each central iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aggregate_metrics</strong> (<a class="reference internal" href="metrics.html#pfl.metrics.Metrics" title="pfl.metrics.Metrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">Metrics</span></code></a>) – A <a class="reference internal" href="metrics.html#pfl.metrics.Metrics" title="pfl.metrics.Metrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">Metrics</span></code></a> object with aggregated metrics
accumulated from local training on users and central updates
of the model.</p></li>
<li><p><strong>model</strong> (<a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModel" title="pfl.tree.gbdt_model.GBDTModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">GBDTModel</span></code></a>) – A reference to the <cite>Model</cite> that is trained.</p></li>
<li><p><strong>central_iteration</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The current central iteration number.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <a class="reference internal" href="metrics.html#pfl.metrics.Metrics" title="pfl.metrics.Metrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">Metrics</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple.
The first value returned is a boolean, signaling that training
should be interrupted if <code class="docutils literal notranslate"><span class="pre">True</span></code>.
Can be useful for implementing features with early stopping or
convergence criteria.
The second value returned is new metrics.
Do not include any of the aggregate_metrics!</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pfl.tree.federated_gbdt.GBDTAlgorithmHyperParams">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pfl.tree.federated_gbdt.</span></span><span class="sig-name descname"><span class="pre">GBDTAlgorithmHyperParams</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cohort_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_cohort_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_trees</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cohort_size_per_layer_modifier_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'power'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l2_regularization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leaf_nodes_reduction_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_second_order_gradients</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_gradients_both_sides_split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_node_sum_gradients</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_per_feature_result_difference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_per_node_result_difference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.federated_gbdt.GBDTAlgorithmHyperParams" title="Link to this definition">#</a></dt>
<dd><p>Parameters for federated GBDT algorithms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cohort_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Size of cohort used for each training iteration.
Note that initial value of cohort_size may be
modified by FederatedGBDT algorithm during training
of a GBDT.</p></li>
<li><p><strong>val_cohort_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Size of val cohort used for distributed evaluation
during training of a GBDT. If set to 0, then there will
not be any evaluation.</p></li>
<li><p><strong>num_trees</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of trees to train.</p></li>
<li><p><strong>cohort_size_per_layer_modifier_fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Define function to use to modify the base value of the training cohort
size depending on the layer of a tree being trained. Options include
{‘none’, ‘linear’, ‘power’}, which, respectively, correspond to: not
adapting the cohort size; linearly increasing the cohort size with the
layer being trained; exponentially increasing the cohort size with the
layer being trained. ‘power’ is the default setting, as this achieves
the correct SNR during training. See <cite>_compute_cohort_size</cite> for
more details.</p></li>
<li><p><strong>compute_second_order_gradients</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Boolean determining whether or not second order
gradients should be computed and reported on device.</p></li>
<li><p><strong>report_gradients_both_sides_split</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Boolean determining whether or not to report
gradients on both sides of each question/split asked.</p></li>
<li><p><strong>report_node_sum_gradients</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Boolean determining whether to report sum of
gradients in node, or else right gradient for one
question asked of node, if
report_gradients_both_sides_split = False.</p></li>
<li><p><strong>report_per_feature_result_difference</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Report difference in gradients of questions
asked for each feature in each node.</p></li>
<li><p><strong>report_per_node_result_difference</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Report difference in gradients for all
questions asked for each node.</p></li>
<li><p><strong>leaf_nodes_reduction_factor</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Defines the factor by which to reduce the training cohort size from
the base value when training the maximum depth of the tree, which
comprises only leaf nodes. The default value is 1, i.e. no reduction
takes place. However, this can be set to
<cite>total_num_questions/2^(max_depth - 1)</cite>, where <cite>total_num_questions</cite> is
the sum of the number of questions specified for each feature used for
training. <cite>leaf_nodes_reduction_factor</cite> must be an integer &gt;= 1.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pfl.tree.federated_gbdt.FederatedGBDT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pfl.tree.federated_gbdt.</span></span><span class="sig-name descname"><span class="pre">FederatedGBDT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.federated_gbdt.FederatedGBDT" title="Link to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.federated_gbdt.FederatedGBDT.simulate_one_user">
<span class="sig-name descname"><span class="pre">simulate_one_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">central_context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.federated_gbdt.FederatedGBDT.simulate_one_user" title="Link to this definition">#</a></dt>
<dd><p>Simulate the client-side part of the computation.</p>
<p>This should train a single user on its dataset (simulated as
<code class="docutils literal notranslate"><span class="pre">user_dataset</span></code>) and return the model statistics.
The statistics should be in such a form that they can be aggregated
over users.
For a cohort of multiple users, this method will be called multiple
times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code>(<code class="docutils literal notranslate"><span class="pre">GBDTModelType</span></code>, bound= GBDTModel)) – The current state of the model.</p></li>
<li><p><strong>user_dataset</strong> (<a class="reference internal" href="data.html#pfl.data.dataset.TabularDataset" title="pfl.data.dataset.TabularDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">TabularDataset</span></code></a>) – The data simulated for a single user.</p></li>
<li><p><strong>central_context</strong> (<a class="reference internal" href="context.html#pfl.context.CentralContext" title="pfl.context.CentralContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">CentralContext</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code>(<code class="docutils literal notranslate"><span class="pre">GBDTAlgorithmHyperParamsType</span></code>, bound= <a class="reference internal" href="#pfl.tree.federated_gbdt.GBDTAlgorithmHyperParams" title="pfl.tree.federated_gbdt.GBDTAlgorithmHyperParams"><code class="xref py py-class docutils literal notranslate"><span class="pre">GBDTAlgorithmHyperParams</span></code></a>), <code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code>(<code class="docutils literal notranslate"><span class="pre">GBDTModelHyperParamsType</span></code>, bound= GBDTModelHyperParams)]) – Settings to use for this round. Contains the model params
used for training/evaluating a user’s model.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference internal" href="stats.html#pfl.stats.MappedVectorStatistics" title="pfl.stats.MappedVectorStatistics"><code class="xref py py-class docutils literal notranslate"><span class="pre">MappedVectorStatistics</span></code></a>], <a class="reference internal" href="metrics.html#pfl.metrics.Metrics" title="pfl.metrics.Metrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">Metrics</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple <code class="docutils literal notranslate"><span class="pre">(statistics,</span> <span class="pre">metrics)</span></code>, with model statistics and metrics
generated from the training of a single user.
Both statistics and metrics will be aggregated and the aggregate
will be passed to <code class="docutils literal notranslate"><span class="pre">process_aggregated_statistics</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.federated_gbdt.FederatedGBDT.postprocess_training_statistics">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">postprocess_training_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statistics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l2_regularization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.federated_gbdt.FederatedGBDT.postprocess_training_statistics" title="Link to this definition">#</a></dt>
<dd><p>Postprocess statistics for one node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>statistics</strong> (<a class="reference internal" href="stats.html#pfl.stats.MappedVectorStatistics" title="pfl.stats.MappedVectorStatistics"><code class="xref py py-class docutils literal notranslate"><span class="pre">MappedVectorStatistics</span></code></a>) – Must have keys: ‘questions’; ‘first_order_grads_left’;
‘first_order_grads_right’; ‘second_order_grads_left’;
‘second_order_grads_right’.</p></li>
<li><p><strong>l2_regularization</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – L2 regularization used to reduce the complexity of the GBDT model
trained, and avoid the model overfitting to the data.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple of 6 scalar statistics representing a node in a tree in a
GBDT: (feature, threshold, gain, value, left_child_value,
right_child_value)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.federated_gbdt.FederatedGBDT.process_aggregated_statistics">
<span class="sig-name descname"><span class="pre">process_aggregated_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">central_context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregate_metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statistics</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.federated_gbdt.FederatedGBDT.process_aggregated_statistics" title="Link to this definition">#</a></dt>
<dd><p>The aggregated statistics are the aggregated first and, optionally,
second order gradients for each of the questions asked of nodes to be
split. For each question, a gain and a value are computed from the
gradients for that question. The question with the highest gain for
each node to be split is selected as the split question for that node,
if the node is a branch node, and will be included in the tree in the
GBDT for that node. The value will be assigned as a leaf weight to the
node if the node is a leaf node.</p>
<p>This function also calls for the model to apply the update, by adding
branch or leaf nodes with the optimal splits or values as appropriate.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code>(<code class="docutils literal notranslate"><span class="pre">GBDTModelType</span></code>, bound= GBDTModel), <a class="reference internal" href="metrics.html#pfl.metrics.Metrics" title="pfl.metrics.Metrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">Metrics</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-pfl.tree.gbdt_model">
<span id="models"></span><h2>Models<a class="headerlink" href="#module-pfl.tree.gbdt_model" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.NodeRecord">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pfl.tree.gbdt_model.</span></span><span class="sig-name descname"><span class="pre">NodeRecord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decision_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_leaf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.NodeRecord" title="Link to this definition">#</a></dt>
<dd><p>Node of a GBDT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference internal" href="internal/tree.html#pfl.internal.tree.node.Node" title="pfl.internal.tree.node.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>]) – Parent node. None for root.</p></li>
<li><p><strong>decision_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>]) – List of triples [feature, threshold, is_left] defining the tests
along the path to this node and the results of these tests.
<code class="docutils literal notranslate"><span class="pre">is_left</span></code> is True if and only if the specific feature is
less than or equal to the threshold, so the decision path
goes left.</p></li>
<li><p><strong>is_left</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Whether this node hangs to the left of its parent. The value in
the root node is True by default but it does not matter.</p></li>
<li><p><strong>value</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – Value of this node as determined by gradients aggregated for
this node. For the root, it’s None.</p></li>
<li><p><strong>is_leaf</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – True if the node is a leaf, False otherwise.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModelHyperParams">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pfl.tree.gbdt_model.</span></span><span class="sig-name descname"><span class="pre">GBDTModelHyperParams</span></span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModelHyperParams" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTClassificationModelHyperParams">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pfl.tree.gbdt_model.</span></span><span class="sig-name descname"><span class="pre">GBDTClassificationModelHyperParams</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaluation_threshold</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTClassificationModelHyperParams" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pfl.tree.gbdt_model.</span></span><span class="sig-name descname"><span class="pre">GBDTModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_split_loss</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_prediction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModel" title="Link to this definition">#</a></dt>
<dd><p>Gradient Boosted Decision Tree (GBDT) model base class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_features</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of features of data used to train GBDT.</p></li>
<li><p><strong>max_depth</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Maximum depth of any tree trained in a GBDT.</p></li>
<li><p><strong>learning_rate</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Learning rate used during boosting. Used to control by how much each
tree should try to reduce error in predictions to zero.</p></li>
<li><p><strong>minimum_split_loss</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Minimum reduction in loss achieved by splitting a node into two child
nodes required before a node is split in a GBDT.</p></li>
<li><p><strong>base_prediction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – Default prediction of a GBDT on datapoints before any trees are added
to the GBDT.</p></li>
<li><p><strong>alpha</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – Optionally used when computing value of a node. If None, the value of a
node is computed from statistics aggregated for that node. If real-
valued and greater than 0, the value of a node is the weighted sum of
statistics aggregated for the current node and for the parent node:
<code class="docutils literal notranslate"><span class="pre">a*parent_value</span> <span class="pre">+</span> <span class="pre">(1-a)*value</span></code>, where <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">alpha</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModel.current_depth">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_depth</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModel.current_depth" title="Link to this definition">#</a></dt>
<dd><p>Current depth of tree being trained, starting at 0, meaning no nodes
have yet been added to the tree.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModel.current_tree">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_tree</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModel.current_tree" title="Link to this definition">#</a></dt>
<dd><p>Current tree being trained for GBDT. Starts at 0.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModel.compute_first_order_gradient">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">compute_first_order_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prediction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModel.compute_first_order_gradient" title="Link to this definition">#</a></dt>
<dd><p>Compute first order gradient.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModel.compute_second_order_gradient">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">compute_second_order_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prediction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModel.compute_second_order_gradient" title="Link to this definition">#</a></dt>
<dd><p>Compute second order gradient.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModel.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModel.save" title="Link to this definition">#</a></dt>
<dd><p>Save a GBDT model to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dir_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Path to which to save GBDT model will be saved as “gbdt.json”</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModel.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModel.load" title="Link to this definition">#</a></dt>
<dd><p>Load a GBDT model from disk.</p>
<p>The model can be loaded from a saved XGBoost model or from a json
serialisation of a GBDT model, which uses the XGBoost serialisation
format:
<a class="reference external" href="https://xgboost.readthedocs.io/en/latest/python/python_api.html?highlight=dump_model#xgboost.Booster.dump_model">https://xgboost.readthedocs.io/en/latest/python/python_api.html?highlight=dump_model#xgboost.Booster.dump_model</a></p>
<p>An XGBoost model must has a “.model” extension, e.g. “xgboost.model”.
A json serialisation of the model must have a “.json” extension, e.g.
“gbdt.json”.</p>
<p>Note that the following parameters are not saved to disk along with a
GBDT model: l2 regularization; number of features; minimum split loss;
maximum number of trees; maximum depth of any tree.</p>
<p>Further training of the GBDT model loaded using this function will
result in new trees being trained and added to the GBDT model. Further
training will not adapt the existing trees in the GBDT loaded using
this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Path to a XGBoost model or a json serialisation of a GBDT model.
Extension of file must be either .model or .json.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModel.apply_model_update">
<span class="sig-name descname"><span class="pre">apply_model_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statistics</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModel.apply_model_update" title="Link to this definition">#</a></dt>
<dd><p>Update GBDT model using best splits determined from first and second
order gradients computed on training data.</p>
<p>The statistics define the node to be added to a tree in a GBDT.</p>
<p>All nodes on a single level of a tree in a GBDT are updated in one
iteration of training, corresponding to one call of this function.</p>
<p>The parent nodes of new nodes to be added to the tree in a GBDT are
defined in <code class="docutils literal notranslate"><span class="pre">self._nodes_to_split</span></code>. The best splits for these nodes are
computed by the <code class="docutils literal notranslate"><span class="pre">FederatedGBDT</span></code> algorithm, determining whether another
branch node or leaf node should be added as a child node to the parent
node. Any child branch nodes are added to <code class="docutils literal notranslate"><span class="pre">self._nodes_to_split</span></code> so
that they can be added to the tree in the next iteration of training.</p>
<p>A node can be set as a leaf node if the maximum depth of a tree has
been reached or if the minimum split loss was not attained by the best
split for that node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>statistics</strong> (<a class="reference internal" href="stats.html#pfl.stats.MappedVectorStatistics" title="pfl.stats.MappedVectorStatistics"><code class="xref py py-class docutils literal notranslate"><span class="pre">MappedVectorStatistics</span></code></a>) – <code class="docutils literal notranslate"><span class="pre">MappedVectorStatistics</span></code> holding (feature, threshold, gain, value,
left_child_value, right_child_value) statistics for each node to
be added to tree. These statistics have been computed from
gradients aggregated from user devices.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code>(<code class="docutils literal notranslate"><span class="pre">GBDTModelType</span></code>, bound= GBDTModel), <a class="reference internal" href="metrics.html#pfl.metrics.Metrics" title="pfl.metrics.Metrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">Metrics</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModel.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModel.predict" title="Link to this definition">#</a></dt>
<dd><p>Make predictions for each data sample in X using GBDT.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModel.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_formatting_fn=&lt;function</span> <span class="pre">GBDTModel.&lt;lambda&gt;&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_params=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModel.evaluate" title="Link to this definition">#</a></dt>
<dd><p>Evaluate model performance using a dataset.</p>
<p>The prediction of a datapoint used for evaluation is computed using:</p>
<ol class="arabic simple">
<li><p>all the trees in a GBDT, when the most recently added tree of the
GBDT is fully trained.</p></li>
<li><p>All trees in the GBDT except the most recently added tree, when this
most recently added tree is not fully trained.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TypeVar</span></code>(<code class="docutils literal notranslate"><span class="pre">AbstractDatasetType</span></code>, bound= AbstractDataset)) – The dataset on which evaluation should take place. Assumes that
<code class="docutils literal notranslate"><span class="pre">dataset.raw_data</span></code> is a list of datapoints, where each datapoint
is represented by a tuple <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y)</span></code>, where <code class="docutils literal notranslate"><span class="pre">x</span></code> is a vector of
input features, and <code class="docutils literal notranslate"><span class="pre">y</span></code> is a scalar target value.</p></li>
<li><p><strong>name_formatting_fn</strong> – A function that produces a <code class="docutils literal notranslate"><span class="pre">TrainMetricName</span></code> object from a simple
string for metrics computed on a dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="metrics.html#pfl.metrics.Metrics" title="pfl.metrics.Metrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">Metrics</span></code></a></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <cite>Metrics</cite> object with performance metrics evaluated on the
dataset.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModelClassifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pfl.tree.gbdt_model.</span></span><span class="sig-name descname"><span class="pre">GBDTModelClassifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_split_loss</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_prediction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModelClassifier" title="Link to this definition">#</a></dt>
<dd><p>Federated GBDT model for binary classification.</p>
<p>See GBDTModel for description of parameters.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModelClassifier.compute_first_order_gradient">
<span class="sig-name descname"><span class="pre">compute_first_order_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prediction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModelClassifier.compute_first_order_gradient" title="Link to this definition">#</a></dt>
<dd><p>Compute first order gradient of log loss (cross-entropy loss for binary
classification).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModelClassifier.compute_second_order_gradient">
<span class="sig-name descname"><span class="pre">compute_second_order_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prediction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModelClassifier.compute_second_order_gradient" title="Link to this definition">#</a></dt>
<dd><p>Second order gradient of log loss for binary classification.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModelClassifier.predict_classes">
<span class="sig-name descname"><span class="pre">predict_classes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModelClassifier.predict_classes" title="Link to this definition">#</a></dt>
<dd><p>Round predictions to closest of binary values, {0,1}.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModelRegressor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pfl.tree.gbdt_model.</span></span><span class="sig-name descname"><span class="pre">GBDTModelRegressor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_split_loss</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_prediction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModelRegressor" title="Link to this definition">#</a></dt>
<dd><p>Federated GBDT model for regression.</p>
<p>See GBDTModel for description of parameters.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModelRegressor.compute_first_order_gradient">
<span class="sig-name descname"><span class="pre">compute_first_order_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prediction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModelRegressor.compute_first_order_gradient" title="Link to this definition">#</a></dt>
<dd><p>Compute first order gradient for squared error loss function used for
regression.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.gbdt_model.GBDTModelRegressor.compute_second_order_gradient">
<span class="sig-name descname"><span class="pre">compute_second_order_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prediction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.gbdt_model.GBDTModelRegressor.compute_second_order_gradient" title="Link to this definition">#</a></dt>
<dd><p>Compute second order gradient for squared error loss function for
regression.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pfl.tree.tree_utils">
<span id="utils"></span><h2>Utils<a class="headerlink" href="#module-pfl.tree.tree_utils" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pfl.tree.tree_utils.Feature">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pfl.tree.tree_utils.</span></span><span class="sig-name descname"><span class="pre">Feature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_questions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">question_choice_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.tree_utils.Feature" title="Link to this definition">#</a></dt>
<dd><p>Represents a feature of the data used to train a GBDT. The algorithm used
to train a GBDT will select feature splits which optimally partition data
to reduce the loss function used for training.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature_index</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Index of the feature in the data’s feature vector. Must be non-negative</p></li>
<li><p><strong>feature_range</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]) – Range of feature, [<cite>min_val</cite>, <cite>max_val</cite>].</p></li>
<li><p><strong>feature_type</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>]]) – Type of feature: {bool, float, int} are supported.</p></li>
<li><p><strong>num_questions</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Number of questions to ask for this feature during training algorithm.
Must be &gt;= 0.</p></li>
<li><p><strong>question_choice_method</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – Method used to generate questions for this feature, to find optimal
feature splits to partition the data. Either <cite>equidistant</cite> or <cite>random</cite>
for int or float features. Boolean features have default splitting
method.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pfl.tree.tree_utils.Feature.generate_feature_questions">
<span class="sig-name descname"><span class="pre">generate_feature_questions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_questions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.tree_utils.Feature.generate_feature_questions" title="Link to this definition">#</a></dt>
<dd><p>Generate questions for feature, to be used in training a tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="#pfl.tree.gbdt_model.NodeRecord" title="pfl.tree.gbdt_model.NodeRecord"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeRecord</span></code></a>) – The node in a tree for which questions should be generated for this
feature.</p></li>
<li><p><strong>num_questions</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – Optional parameter for number of questions to generate. If not
None, it will override self._num_questions. Can be 0.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pfl.tree.tree_utils.choose_questions">
<span class="sig-prename descclassname"><span class="pre">pfl.tree.tree_utils.</span></span><span class="sig-name descname"><span class="pre">choose_questions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pfl.tree.tree_utils.choose_questions" title="Link to this definition">#</a></dt>
<dd><p>Select questions to be used to train a GBDT in each iteration of training.</p>
<p>Note: leaf nodes only require a single question, as leaf nodes require the
value of the node to be determined, which can be computed from the
gradients from any split on the data, not the optimal split.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference internal" href="#pfl.tree.gbdt_model.NodeRecord" title="pfl.tree.gbdt_model.NodeRecord"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeRecord</span></code></a>]) – Nodes for which questions should be generated so optimal parameters for
these nodes can be computed, so these nodes can be added to trees in
GBDT.</p></li>
<li><p><strong>features</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<a class="reference internal" href="#pfl.tree.tree_utils.Feature" title="pfl.tree.tree_utils.Feature"><code class="xref py py-class docutils literal notranslate"><span class="pre">Feature</span></code></a>]) – List of Feature objects used to train a GBDT. Questions will be asked
of each Feature to identify the feature-split which achieves the best
partition of the dataset to reduce the loss function used for training.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple including a list comprising questions for each node in <cite>nodes</cite>,
to be used for training, and the total number of questions asked. For
each node, a dictionary is returned, which includes the path to the
node, with the key <cite>decisionPath</cite>, and a dictionary mapping feature
indices to threshold values: these are the questions.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="environment_variables.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Environment variables</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="stats.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Training statistics</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024 Apple Inc.
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Jun 16, 2025</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Gradient boosted decision trees</a><ul>
<li><a class="reference internal" href="#module-pfl.tree.federated_gbdt">Algorithms</a><ul>
<li><a class="reference internal" href="#pfl.tree.federated_gbdt.GBDTClippingBound"><code class="docutils literal notranslate"><span class="pre">GBDTClippingBound</span></code></a><ul>
<li><a class="reference internal" href="#pfl.tree.federated_gbdt.GBDTClippingBound.value"><code class="docutils literal notranslate"><span class="pre">GBDTClippingBound.value()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.federated_gbdt.GBDTClippingBound.on_train_begin"><code class="docutils literal notranslate"><span class="pre">GBDTClippingBound.on_train_begin()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.federated_gbdt.GBDTClippingBound.after_central_iteration"><code class="docutils literal notranslate"><span class="pre">GBDTClippingBound.after_central_iteration()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pfl.tree.federated_gbdt.GBDTAlgorithmHyperParams"><code class="docutils literal notranslate"><span class="pre">GBDTAlgorithmHyperParams</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.federated_gbdt.FederatedGBDT"><code class="docutils literal notranslate"><span class="pre">FederatedGBDT</span></code></a><ul>
<li><a class="reference internal" href="#pfl.tree.federated_gbdt.FederatedGBDT.simulate_one_user"><code class="docutils literal notranslate"><span class="pre">FederatedGBDT.simulate_one_user()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.federated_gbdt.FederatedGBDT.postprocess_training_statistics"><code class="docutils literal notranslate"><span class="pre">FederatedGBDT.postprocess_training_statistics()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.federated_gbdt.FederatedGBDT.process_aggregated_statistics"><code class="docutils literal notranslate"><span class="pre">FederatedGBDT.process_aggregated_statistics()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-pfl.tree.gbdt_model">Models</a><ul>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.NodeRecord"><code class="docutils literal notranslate"><span class="pre">NodeRecord</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModelHyperParams"><code class="docutils literal notranslate"><span class="pre">GBDTModelHyperParams</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTClassificationModelHyperParams"><code class="docutils literal notranslate"><span class="pre">GBDTClassificationModelHyperParams</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModel"><code class="docutils literal notranslate"><span class="pre">GBDTModel</span></code></a><ul>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModel.current_depth"><code class="docutils literal notranslate"><span class="pre">GBDTModel.current_depth</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModel.current_tree"><code class="docutils literal notranslate"><span class="pre">GBDTModel.current_tree</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModel.compute_first_order_gradient"><code class="docutils literal notranslate"><span class="pre">GBDTModel.compute_first_order_gradient()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModel.compute_second_order_gradient"><code class="docutils literal notranslate"><span class="pre">GBDTModel.compute_second_order_gradient()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModel.save"><code class="docutils literal notranslate"><span class="pre">GBDTModel.save()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModel.load"><code class="docutils literal notranslate"><span class="pre">GBDTModel.load()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModel.apply_model_update"><code class="docutils literal notranslate"><span class="pre">GBDTModel.apply_model_update()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModel.predict"><code class="docutils literal notranslate"><span class="pre">GBDTModel.predict()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModel.evaluate"><code class="docutils literal notranslate"><span class="pre">GBDTModel.evaluate()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModelClassifier"><code class="docutils literal notranslate"><span class="pre">GBDTModelClassifier</span></code></a><ul>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModelClassifier.compute_first_order_gradient"><code class="docutils literal notranslate"><span class="pre">GBDTModelClassifier.compute_first_order_gradient()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModelClassifier.compute_second_order_gradient"><code class="docutils literal notranslate"><span class="pre">GBDTModelClassifier.compute_second_order_gradient()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModelClassifier.predict_classes"><code class="docutils literal notranslate"><span class="pre">GBDTModelClassifier.predict_classes()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModelRegressor"><code class="docutils literal notranslate"><span class="pre">GBDTModelRegressor</span></code></a><ul>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModelRegressor.compute_first_order_gradient"><code class="docutils literal notranslate"><span class="pre">GBDTModelRegressor.compute_first_order_gradient()</span></code></a></li>
<li><a class="reference internal" href="#pfl.tree.gbdt_model.GBDTModelRegressor.compute_second_order_gradient"><code class="docutils literal notranslate"><span class="pre">GBDTModelRegressor.compute_second_order_gradient()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-pfl.tree.tree_utils">Utils</a><ul>
<li><a class="reference internal" href="#pfl.tree.tree_utils.Feature"><code class="docutils literal notranslate"><span class="pre">Feature</span></code></a><ul>
<li><a class="reference internal" href="#pfl.tree.tree_utils.Feature.generate_feature_questions"><code class="docutils literal notranslate"><span class="pre">Feature.generate_feature_questions()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pfl.tree.tree_utils.choose_questions"><code class="docutils literal notranslate"><span class="pre">choose_questions()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=4621528c"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>